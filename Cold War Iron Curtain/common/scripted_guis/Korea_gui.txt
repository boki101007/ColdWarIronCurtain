scripted_gui = {
	KOR_Election_Gui = { 
		context_type = player_context
		window_name = "KOR_Election_Gui_Menu" 
		visible = {
			check_variable = {
				KOR_Election_UI = 1
			}
		}
		ai_enabled = {
			always = no
		} 
		properties = {
			Candidate_1_Support = {
				frame = Candidate_1_Support     
			}	
			Candidate_2_Support = {
				frame = Candidate_2_Support     
			}	
			Candidate_3_Support = {
				frame = Candidate_3_Support     
			}	
		}
		triggers = {
			Vote_Share_visible = {
				check_variable = {
					KOR_Region_Selected > 0
				}			
			}
			play_as_candidate_1_click_enabled = {
				check_variable = {
					KOR_Candidate_Slot_Playing_As = 0
				}
			}
			play_as_candidate_2_click_enabled = {
				check_variable = {
					KOR_Candidate_Slot_Playing_As = 0
				}
			}
			play_as_candidate_3_click_enabled = {
				check_variable = {
					KOR_Candidate_Slot_Playing_As = 0
				}
			}
		}
		effects = {
			play_as_candidate_1_click = {
				set_variable = {
					KOR_Candidate_Slot_Playing_As_Slot = 1
				}
				set_variable = {
					KOR_Candidate_Slot_Playing_As = KOR_Candidate_Slot_1
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_1 = 2
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_2 = 3
				}
			}
			play_as_candidate_2_click = {
				set_variable = {
					KOR_Candidate_Slot_Playing_As_Slot = 2
				}
				set_variable = {
					KOR_Candidate_Slot_Playing_As = KOR_Candidate_Slot_2
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_1 = 1
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_2 = 3
				}
			}
			play_as_candidate_3_click = {
				set_variable = {
					KOR_Candidate_Slot_Playing_As_Slot = 3
				}
				set_variable = {
					KOR_Candidate_Slot_Playing_As = KOR_Candidate_Slot_3
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_1 = 1
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_2 = 2
				}
			}
			Campaign_Action_1_click = {	#Give Campaign Promises
				meta_effect = {
					text = {
						add_to_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS]_Vote_Share = 2
						}
						korea_1950s_election_normalization = yes
					}
					CURRENT_REGION = "[?KOR_Region_Selected]"
					CANDIDATE_PLAY_AS = "[?KOR_Candidate_Slot_Playing_As_Slot]"
				}	
				korea_1950s_election_normalization = yes
			}
			Campaign_Action_2_click = {	#Spread False Propaganda

			}
			Campaign_Action_3_click = {	#Engage in Red-Baiting

			}
			Campaign_Action_4_click = {	#Bribe Voters and Poll Workers

			}
			Campaign_Action_5_click = {	#Exploit Parochial Tensions

			}
			Campaign_Action_6_click = {	#Harrass Political Opponents

			}
			Campaign_Action_7_click = {	#Campaign in Region

			}
			Campaign_Action_8_click = {	#Arrest Opposition Members

			}
			Campaign_Action_9_click = {	#Alt of 8: Play the Media

			}
			close_button_click = {
				set_variable = {
					KOR_Election_UI = 0
				}
			}
			Region_1_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 1
					}
					set_variable = { Candidate_1_Support = Region_1_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_1_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_1_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_2_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 2
					}
					set_variable = { Candidate_1_Support = Region_2_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_2_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_2_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_3_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 3
					}
					set_variable = { Candidate_1_Support = Region_3_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_3_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_3_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_4_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 4
					}
					set_variable = { Candidate_1_Support = Region_4_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_4_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_4_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_5_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 5
					}
					set_variable = { Candidate_1_Support = Region_4_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_4_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_4_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_6_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 6
					}
					set_variable = { Candidate_1_Support = Region_6_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_6_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_6_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_7_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 7
					}
					set_variable = { Candidate_1_Support = Region_7_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_7_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_7_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_8_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 8
					}
					set_variable = { Candidate_1_Support = Region_8_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_8_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_8_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_9_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 9
					}
					set_variable = { Candidate_1_Support = Region_9_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_9_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_9_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_10_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 10
					}
					set_variable = { Candidate_1_Support = Region_10_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_10_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_10_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
		}
	}
}
