scripted_gui = {
	KOR_Election_Gui = { 
		context_type = player_context
		window_name = "KOR_Election_Gui_Menu" 
		visible = {
			check_variable = {
				KOR_Election_UI = 1
			}
		}
		ai_enabled = {
			always = no
		} 
		properties = {
			Candidate_1_Support = {
				frame = Candidate_1_Support     
			}	
			Candidate_2_Support = {
				frame = Candidate_2_Support     
			}	
			Candidate_3_Support = {
				frame = Candidate_3_Support     
			}	
		}
		triggers = {
			Vote_Share_visible = {
				check_variable = {
					KOR_Region_Selected > 0
				}			
			}
			play_as_candidate_1_click_enabled = {
				check_variable = {
					KOR_Candidate_Slot_Playing_As = 0
				}
			}
			play_as_candidate_2_click_enabled = {
				check_variable = {
					KOR_Candidate_Slot_Playing_As = 0
				}
			}
			play_as_candidate_3_click_enabled = {
				check_variable = {
					KOR_Candidate_Slot_Playing_As = 0
				}
			}
			Campaign_Action_1_click_enabled = {
				NOT = {
					check_variable = {
						KOR_Candidate_Slot_Playing_As = 0
					}
				}
				check_variable = {
					KOR_Region_Selected > 0
				}
				has_political_power > 24
			}
			Campaign_Action_2_click_enabled = {
				NOT = {
					check_variable = {
						KOR_Candidate_Slot_Playing_As = 0
					}
				}
				check_variable = {
					KOR_Region_Selected > 49
				}
				has_political_power > PLACEHOLDER
			}
			Campaign_Action_3_click_enabled = {
				NOT = {
					check_variable = {
						KOR_Candidate_Slot_Playing_As = 0
					}
				}
				check_variable = {
					KOR_Region_Selected > 0
				}
				has_political_power > 49
			}
			Campaign_Action_4_click_enabled = {
				NOT = {
					check_variable = {
						KOR_Candidate_Slot_Playing_As = 0
					}
				}
				check_variable = {
					KOR_Region_Selected > 0
				}
				has_political_power > 74
			}
			Campaign_Action_5_click_enabled = {
				NOT = {
					check_variable = {
						KOR_Candidate_Slot_Playing_As = 0
					}
				}
				check_variable = {
					KOR_Region_Selected > 0
				}
				has_political_power > 49
			}
			Campaign_Action_6_click_enabled = {
				check_variable = {
					KOR_Playing_As_Authoritarian = 1
				}
				NOT = {
					check_variable = {
						KOR_Candidate_Slot_Playing_As = 0
					}
				}
				check_variable = {
					KOR_Region_Selected > 0
				}
				has_political_power > 49
			}
			Campaign_Action_7_click_enabled = {
				NOT = {
					check_variable = {
						KOR_Candidate_Slot_Playing_As = 0
					}
				}
				check_variable = {
					KOR_Region_Selected > 0
				}
				has_political_power > 24
			}
			Campaign_Action_8_click_enabled = {
				check_variable = {
					KOR_Playing_As_Authoritarian = 1
				}
				NOT = {
					check_variable = {
						KOR_Candidate_Slot_Playing_As = 0
					}
				}
				check_variable = {
					KOR_Region_Selected > 0
				}
				has_political_power > 74
			}
			Campaign_Action_8_visible = {
				check_variable = {
					KOR_Playing_As_Authoritarian = 1
				}
			}
			Campaign_Action_9_visible = {
				check_variable = {
					KOR_Playing_As_Authoritarian = 0
				}
			}
			Campaign_Action_9_click_enabled = {
				NOT = {
					check_variable = {
						KOR_Candidate_Slot_Playing_As = 0
					}
				}
				check_variable = {
					KOR_Region_Selected > 0
				}
				has_political_power > 24
			}
		}
		effects = {
			play_as_candidate_1_click = {
				set_variable = {
					KOR_Candidate_Slot_Playing_As_Slot = 1
				}
				set_variable = {
					KOR_Candidate_Slot_Playing_As = KOR_Candidate_Slot_1
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_1 = 2
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_2 = 3
				}
			}
			play_as_candidate_2_click = {
				set_variable = {
					KOR_Candidate_Slot_Playing_As_Slot = 2
				}
				set_variable = {
					KOR_Candidate_Slot_Playing_As = KOR_Candidate_Slot_2
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_1 = 1
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_2 = 3
				}
			}
			play_as_candidate_3_click = {
				set_variable = {
					KOR_Candidate_Slot_Playing_As_Slot = 3
				}
				set_variable = {
					KOR_Candidate_Slot_Playing_As = KOR_Candidate_Slot_3
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_1 = 1
				}
				set_variable = {
					KOR_Candidate_Slot_Not_Playing_As_2 = 2
				}
			}
			Campaign_Action_1_click = {	#Give Campaign Promises
				add_political_power = -25
				set_variable_to_random = {
					var = random_num
					min = 1
					max = 3
					integer = yes
				}
				if = {
					limit = {
						check_variable = {
							KOR_Playing_As_Authoritarian = 1
						}
					}
					multiply_variable = {
						random_num = 2
					}
				}
				meta_effect = {
					text = {
						add_to_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS]_Vote_Share = random_num
						}
						korea_1950s_election_normalization = yes
					}
					CURRENT_REGION = "[?KOR_Region_Selected]"
					CANDIDATE_PLAY_AS = "[?KOR_Candidate_Slot_Playing_As_Slot]"
				}	
				korea_1950s_election_normalization = yes
			}
			Campaign_Action_2_click = {	#Spread False Propaganda
				add_political_power = -50
				random_list = {
					50 = {
						set_variable = {
							KOR_Candidate_Slot_Playing_As_Slot_Not = KOR_Candidate_Slot_Not_Playing_As_1
						}
					}
					50 = {
						set_variable = {
							KOR_Candidate_Slot_Playing_As_Slot_Not = KOR_Candidate_Slot_Not_Playing_As_2
						}
					}
				}
				set_variable_to_random = {
					var = random_num
					min = 1
					max = 2
					integer = yes
				}
				if = {
					limit = {
						check_variable = {
							KOR_Playing_As_Authoritarian = 1
						}
					}
					multiply_variable = {
						random_num = 2
					}
				}
				meta_effect = {
					text = {
						add_to_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS]_Vote_Share = random_num
						}
						subtract_from_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS_NOT]_Vote_Share = random_num
						}
						korea_1950s_election_normalization = yes
					}
					CURRENT_REGION = "[?KOR_Region_Selected]"
					CANDIDATE_PLAY_AS = "[?KOR_Candidate_Slot_Playing_As_Slot]"
					CANDIDATE_PLAY_AS_NOT = "[?KOR_Candidate_Slot_Playing_As_Slot_Not]"
				}	
				korea_1950s_election_normalization = yes
			}
			Campaign_Action_3_click = {	#Engage in Red-Baiting
				add_political_power = -50
				random_list = {
					50 = {
						set_variable = {
							KOR_Candidate_Slot_Playing_As_Slot_Not = KOR_Candidate_Slot_Not_Playing_As_1
						}
					}
					50 = {
						set_variable = {
							KOR_Candidate_Slot_Playing_As_Slot_Not = KOR_Candidate_Slot_Not_Playing_As_2
						}
					}
				}
				set_variable_to_random = {
					var = random_num
					min = 1
					max = 4
					integer = yes
				}
				if = {
					limit = {
						check_variable = {
							KOR_Playing_As_Authoritarian = 1
						}
					}
					multiply_variable = {
						random_num = 2
					}
				}
				meta_effect = {
					text = {
						add_to_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS]_Vote_Share = random_num
						}
						subtract_from_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS_NOT]_Vote_Share = random_num
						}
						korea_1950s_election_normalization = yes
					}
					CURRENT_REGION = "[?KOR_Region_Selected]"
					CANDIDATE_PLAY_AS = "[?KOR_Candidate_Slot_Playing_As_Slot]"
					CANDIDATE_PLAY_AS_NOT = "[?KOR_Candidate_Slot_Playing_As_Slot_Not]"
				}	
				korea_1950s_election_normalization = yes
			}
			Campaign_Action_4_click = {	#Bribe Voters and Poll Workers
				add_political_power = -75
				set_variable_to_random = {
					var = random_num
					min = -3
					max = 5
					integer = yes
				}
				if = {
					limit = {
						check_variable = {
							KOR_Playing_As_Authoritarian = 1
						}
					}
					multiply_variable = {
						random_num = 2
					}
				}
				meta_effect = {
					text = {
						add_to_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS]_Vote_Share = random_num
						}
						korea_1950s_election_normalization = yes
					}
					CURRENT_REGION = "[?KOR_Region_Selected]"
					CANDIDATE_PLAY_AS = "[?KOR_Candidate_Slot_Playing_As_Slot]"
				}	
			}
			Campaign_Action_5_click = {	#Exploit Parochial Tensions
				add_political_power = -50
				set_variable_to_random = {
					var = random_num
					min = -2
					max = 3
					integer = yes
				}
				if = {
					limit = {
						check_variable = {
							KOR_Playing_As_Authoritarian = 1
						}
					}
					multiply_variable = {
						random_num = 2
					}
				}
				meta_effect = {
					text = {
						add_to_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS]_Vote_Share = random_num
						}
						korea_1950s_election_normalization = yes
					}
					CURRENT_REGION = "[?KOR_Region_Selected]"
					CANDIDATE_PLAY_AS = "[?KOR_Candidate_Slot_Playing_As_Slot]"
				}	
			}
			Campaign_Action_6_click = {	#Harrass Political Opponents
				add_political_power = -50
				random_list = {
					50 = {
						set_variable = {
							KOR_Candidate_Slot_Playing_As_Slot_Not = KOR_Candidate_Slot_Not_Playing_As_1
						}
					}
					50 = {
						set_variable = {
							KOR_Candidate_Slot_Playing_As_Slot_Not = KOR_Candidate_Slot_Not_Playing_As_2
						}
					}
				}
				set_variable_to_random = {
					var = random_num
					min = 1
					max = 2
					integer = yes
				}
				if = {
					limit = {
						check_variable = {
							KOR_Playing_As_Authoritarian = 1
						}
					}
					multiply_variable = {
						random_num = 2
					}
				}
				meta_effect = {
					text = {
						add_to_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS]_Vote_Share = random_num
						}
						subtract_from_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS_NOT]_Vote_Share = 1
						}
						korea_1950s_election_normalization = yes
					}
					CURRENT_REGION = "[?KOR_Region_Selected]"
					CANDIDATE_PLAY_AS = "[?KOR_Candidate_Slot_Playing_As_Slot]"
					CANDIDATE_PLAY_AS_NOT = "[?KOR_Candidate_Slot_Playing_As_Slot_Not]"
				}	
				korea_1950s_election_normalization = yes
			}
			Campaign_Action_7_click = {	#Campaign in Region
				add_political_power = -25
				set_variable_to_random = {
					var = random_num
					min = 1
					max = 3
					integer = yes
				}
				if = {
					limit = {
						check_variable = {
							KOR_Playing_As_Authoritarian = 1
						}
					}
					multiply_variable = {
						random_num = 2
					}
				}
				meta_effect = {
					text = {
						add_to_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS]_Vote_Share = random_num
						}
						korea_1950s_election_normalization = yes
					}
					CURRENT_REGION = "[?KOR_Region_Selected]"
					CANDIDATE_PLAY_AS = "[?KOR_Candidate_Slot_Playing_As_Slot]"
				}	
				korea_1950s_election_normalization = yes
			}
			Campaign_Action_8_click = {	#Arrest Opposition Members
				add_political_power = -75
				add_stability = -0.02
				random_list = {
					50 = {
						set_variable = {
							KOR_Candidate_Slot_Playing_As_Slot_Not = KOR_Candidate_Slot_Not_Playing_As_1
						}
					}
					50 = {
						set_variable = {
							KOR_Candidate_Slot_Playing_As_Slot_Not = KOR_Candidate_Slot_Not_Playing_As_2
						}
					}
				}
				set_variable_to_random = {
					var = random_num
					min = 3
					max = 5
					integer = yes
				}
				if = {
					limit = {
						check_variable = {
							KOR_Playing_As_Authoritarian = 1
						}
					}
					multiply_variable = {
						random_num = 2
					}
				}
				meta_effect = {
					text = {
						add_to_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS]_Vote_Share = random_num
						}
						subtract_from_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS_NOT]_Vote_Share = random_num
						}
						korea_1950s_election_normalization = yes
					}
					CURRENT_REGION = "[?KOR_Region_Selected]"
					CANDIDATE_PLAY_AS = "[?KOR_Candidate_Slot_Playing_As_Slot]"
					CANDIDATE_PLAY_AS_NOT = "[?KOR_Candidate_Slot_Playing_As_Slot_Not]"
				}	
				korea_1950s_election_normalization = yes
			}
			Campaign_Action_9_click = {	#Alt of 8: Play the Media
				add_political_power = -25
				set_variable_to_random = {
					var = random_num
					min = -2
					max = 5
					integer = yes
				}
				if = {
					limit = {
						check_variable = {
							KOR_Playing_As_Authoritarian = 1
						}
					}
					multiply_variable = {
						random_num = 2
					}
				}
				meta_effect = {
					text = {
						add_to_variable = {
							Region_[CURRENT_REGION]_Candidate_[CANDIDATE_PLAY_AS]_Vote_Share = random_num
						}
						korea_1950s_election_normalization = yes
					}
					CURRENT_REGION = "[?KOR_Region_Selected]"
					CANDIDATE_PLAY_AS = "[?KOR_Candidate_Slot_Playing_As_Slot]"
				}	
			}
			close_button_click = {
				set_variable = {
					KOR_Election_UI = 0
				}
			}
			Region_1_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 1
					}
					set_variable = { Candidate_1_Support = Region_1_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_1_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_1_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_2_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 2
					}
					set_variable = { Candidate_1_Support = Region_2_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_2_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_2_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_3_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 3
					}
					set_variable = { Candidate_1_Support = Region_3_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_3_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_3_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_4_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 4
					}
					set_variable = { Candidate_1_Support = Region_4_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_4_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_4_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_5_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 5
					}
					set_variable = { Candidate_1_Support = Region_4_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_4_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_4_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_6_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 6
					}
					set_variable = { Candidate_1_Support = Region_6_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_6_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_6_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_7_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 7
					}
					set_variable = { Candidate_1_Support = Region_7_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_7_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_7_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_8_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 8
					}
					set_variable = { Candidate_1_Support = Region_8_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_8_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_8_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_9_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 9
					}
					set_variable = { Candidate_1_Support = Region_9_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_9_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_9_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
			Region_10_Transparent_click = {
				korea_1950s_election_normalization = yes
				if = {
					limit = {
						check_variable = {
							KOR_Region_Selected = 0
						}
					}
					set_variable = {
						KOR_Region_Selected = 10
					}
					set_variable = { Candidate_1_Support = Region_10_Candidate_1_Vote_Share }
					set_variable = { Candidate_2_Support = Region_10_Candidate_2_Vote_Share }
					set_variable = { Candidate_3_Support = Region_10_Candidate_3_Vote_Share }
				}
				else = {
					set_variable = {
						KOR_Region_Selected = 0
					}	
					set_variable = { Candidate_1_Support = Candidate_1_Support_National }
					set_variable = { Candidate_2_Support = Candidate_2_Support_National }
					set_variable = { Candidate_3_Support = Candidate_3_Support_National }
				}
			}
		}
	}
}
